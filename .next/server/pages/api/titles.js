"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/titles";
exports.ids = ["pages/api/titles"];
exports.modules = {

/***/ "https-proxy-agent":
/*!************************************!*\
  !*** external "https-proxy-agent" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("https-proxy-agent");

/***/ }),

/***/ "@vercel/postgres":
/*!***********************************!*\
  !*** external "@vercel/postgres" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("@vercel/postgres");;

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./middlewares/corsMiddleware.ts":
/*!***************************************!*\
  !*** ./middlewares/corsMiddleware.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction corsMiddleware(handler) {\n    return async (req, res)=>{\n        res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        res.setHeader(\"Access-Control-Allow-Methods\", \"GET,POST,OPTIONS\");\n        res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n        if (req.method === \"OPTIONS\") {\n            res.status(200).end();\n            return;\n        }\n        return handler(req, res);\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (corsMiddleware);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlcy9jb3JzTWlkZGxld2FyZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBRUEsU0FBU0EsY0FBYyxDQUNyQkMsT0FBNEQsRUFDNUQ7SUFDQSxPQUFPLE9BQU9DLEdBQW1CLEVBQUVDLEdBQW9CLEdBQUs7UUFDMURBLEdBQUcsQ0FBQ0MsU0FBUyxDQUFDLDZCQUE2QixFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2xERCxHQUFHLENBQUNDLFNBQVMsQ0FBQyw4QkFBOEIsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2xFRCxHQUFHLENBQUNDLFNBQVMsQ0FBQyw4QkFBOEIsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUU5RCxJQUFJRixHQUFHLENBQUNHLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDNUJGLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxHQUFHLEVBQUUsQ0FBQztZQUN0QixPQUFPO1FBQ1QsQ0FBQztRQUVELE9BQU9OLE9BQU8sQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLENBQUMsQ0FBQztJQUMzQixDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsaUVBQWVILGNBQWMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RpZ2dlcnMtZGVsaWdodC1uZXh0anMvLi9taWRkbGV3YXJlcy9jb3JzTWlkZGxld2FyZS50cz9iZDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuXG5mdW5jdGlvbiBjb3JzTWlkZGxld2FyZShcbiAgaGFuZGxlcjogKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PiB2b2lkXG4pIHtcbiAgcmV0dXJuIGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xuICAgIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpO1xuICAgIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULFBPU1QsT1BUSU9OU1wiKTtcbiAgICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZVwiKTtcblxuICAgIGlmIChyZXEubWV0aG9kID09PSBcIk9QVElPTlNcIikge1xuICAgICAgcmVzLnN0YXR1cygyMDApLmVuZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29yc01pZGRsZXdhcmU7XG4iXSwibmFtZXMiOlsiY29yc01pZGRsZXdhcmUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwic2V0SGVhZGVyIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./middlewares/corsMiddleware.ts\n");

/***/ }),

/***/ "(api)/./pages/api/titles.ts":
/*!*****************************!*\
  !*** ./pages/api/titles.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var https_proxy_agent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! https-proxy-agent */ \"https-proxy-agent\");\n/* harmony import */ var https_proxy_agent__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(https_proxy_agent__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _src_dbService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/dbService */ \"(api)/./src/dbService.ts\");\n/* harmony import */ var _middlewares_corsMiddleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @middlewares/corsMiddleware */ \"(api)/./middlewares/corsMiddleware.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__, _src_dbService__WEBPACK_IMPORTED_MODULE_2__]);\n([axios__WEBPACK_IMPORTED_MODULE_0__, _src_dbService__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst BASE_URL = \"https://new.myfreemp3juices.cc/api/\";\nconst ENDPOINT = \"api_search.php?callback=jQuery2130003814019662980783_1697629885270\";\nconst URL = `${BASE_URL}${ENDPOINT}`;\nconst TIMEOUT = 4700;\nasync function postData(url, interAddress, data) {\n    // As Axios timeout is not working with https-proxy-agent, we also need to use a custom timeout.\n    const source = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].CancelToken.source();\n    const timeout = setTimeout(()=>{\n        source.cancel();\n        console.log(\"Request canceled due to timeout\");\n    }, TIMEOUT);\n    try {\n        const interAgent = new https_proxy_agent__WEBPACK_IMPORTED_MODULE_1__.HttpsProxyAgent(interAddress);\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(url, data, {\n            httpAgent: interAgent,\n            httpsAgent: interAgent,\n            timeout: TIMEOUT,\n            headers: {\n                \"Content-Type\": \"multipart/form-data\"\n            },\n            maxContentLength: 100 * 1024,\n            cancelToken: source.token\n        });\n        clearTimeout(timeout);\n        return response.data;\n    } catch (error) {\n        clearTimeout(timeout);\n        if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error)) {\n            if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isCancel(error)) {\n                console.log(\"Request canceled:\", error.message);\n            } else {\n                console.log(`Failed to post data: ${error.message}`);\n            }\n            throw new Error(`Failed to post data: ${error.message}`);\n        } else {\n            console.log(\"An unknown error occurred\");\n            throw error;\n        }\n    }\n}\nfunction extractStringBetweenFirstAndLastParentheses(str) {\n    const firstParenthesesIndex = str.indexOf(\"(\");\n    const lastParenthesesIndex = str.lastIndexOf(\")\");\n    return str.slice(firstParenthesesIndex + 1, lastParenthesesIndex);\n}\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        res.status(405).json({\n            error: \"Method not allowed\"\n        });\n        return;\n    }\n    const query = req.query.query;\n    if (typeof query !== \"string\") {\n        res.status(400).json({\n            error: \"Query parameter must be a string\"\n        });\n        return;\n    }\n    if (!query.trim()) {\n        res.status(400).json({\n            error: \"Query parameter is required\"\n        });\n        return;\n    }\n    let interQuery = req.query.inter;\n    let inter = null;\n    if (interQuery !== null && interQuery !== undefined) {\n        if (typeof interQuery !== \"string\") {\n            res.status(400).json({\n                error: \"Inter parameter must be a string\"\n            });\n            return;\n        }\n        inter = interQuery;\n    }\n    if (!inter) {\n        inter = await (0,_src_dbService__WEBPACK_IMPORTED_MODULE_2__.getMostAccurateInter)();\n        if (!inter) {\n            res.status(500).json({\n                error: \"No inters available\"\n            });\n            return;\n        }\n    }\n    console.log(`Using inter: ${inter}`);\n    let data = {\n        q: query,\n        page: \"0\"\n    };\n    const MAX_RETRIES = 3;\n    for(let i = 0; i < MAX_RETRIES; i++){\n        console.log(`Try number ${i + 1}`);\n        try {\n            const result = await postData(URL, inter, data);\n            const jsonText = extractStringBetweenFirstAndLastParentheses(result);\n            const json = JSON.parse(jsonText);\n            if (json[\"response\"] !== null) {\n                res.status(200).json(json[\"response\"]);\n                return;\n            } else {\n                console.log(`Response null with proxy ${inter}. Retrying`);\n            }\n        } catch (error) {\n            const errorMessagePrefixe = `Failed to fetch data with inter ${inter}: `;\n            let errorMessageBody = \"\";\n            if (error instanceof Error) {\n                errorMessageBody = error.message;\n            } else {\n                errorMessageBody = \"An unknown error occurred\";\n            }\n            (0,_src_dbService__WEBPACK_IMPORTED_MODULE_2__.incrementFailureCount)(inter);\n            res.status(500).json({\n                error: `${errorMessagePrefixe}${errorMessageBody}`\n            });\n            return;\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middlewares_corsMiddleware__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(handler));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssWUFBWUksS0FBSyxFQUFFO2dCQUMxQjRCLGdCQUFnQixHQUFHaEMsS0FBSyxDQUFDRyxPQUFPLENBQUM7WUFDbkMsT0FBTztnQkFDTDZCLGdCQUFnQixHQUFHLDJCQUEyQixDQUFDO1lBQ2pELENBQUM7WUFDRDNELHFFQUFxQixDQUFDZ0QsS0FBSyxDQUFDLENBQUM7WUFDN0JQLEdBQUcsQ0FDQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUNYQyxJQUFJLENBQUM7Z0JBQUVqQixLQUFLLEVBQUUsQ0FBQyxFQUFFK0IsbUJBQW1CLENBQUMsRUFBRUMsZ0JBQWdCLENBQUMsQ0FBQzthQUFFLENBQUMsQ0FBQztZQUNoRSxPQUFPO1FBQ1QsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDO0FBRUQsaUVBQWUxRCx1RUFBYyxDQUFDc0MsT0FBTyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kaWdnZXJzLWRlbGlnaHQtbmV4dGpzLy4vcGFnZXMvYXBpL3RpdGxlcy50cz9mYzkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IGF4aW9zLCB7IENhbmNlbFRva2VuU291cmNlIH0gZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyBIdHRwc1Byb3h5QWdlbnQgfSBmcm9tIFwiaHR0cHMtcHJveHktYWdlbnRcIjtcbmltcG9ydCB7XG4gIGdldE1vc3RBY2N1cmF0ZUludGVyLFxuICBkZWxldGVJbnRlcixcbiAgaW5jcmVtZW50RmFpbHVyZUNvdW50LFxufSBmcm9tIFwiQHNyYy9kYlNlcnZpY2VcIjtcbmltcG9ydCBjb3JzTWlkZGxld2FyZSBmcm9tIFwiQG1pZGRsZXdhcmVzL2NvcnNNaWRkbGV3YXJlXCI7XG5cbmNvbnN0IEJBU0VfVVJMID0gXCJodHRwczovL25ldy5teWZyZWVtcDNqdWljZXMuY2MvYXBpL1wiO1xuY29uc3QgRU5EUE9JTlQgPVxuICBcImFwaV9zZWFyY2gucGhwP2NhbGxiYWNrPWpRdWVyeTIxMzAwMDM4MTQwMTk2NjI5ODA3ODNfMTY5NzYyOTg4NTI3MFwiO1xuY29uc3QgVVJMID0gYCR7QkFTRV9VUkx9JHtFTkRQT0lOVH1gO1xuY29uc3QgVElNRU9VVCA9IDQ3MDA7XG5cbmFzeW5jIGZ1bmN0aW9uIHBvc3REYXRhKFxuICB1cmw6IHN0cmluZyxcbiAgaW50ZXJBZGRyZXNzOiBzdHJpbmcsXG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT5cbik6IFByb21pc2U8YW55PiB7XG4gIC8vIEFzIEF4aW9zIHRpbWVvdXQgaXMgbm90IHdvcmtpbmcgd2l0aCBodHRwcy1wcm94eS1hZ2VudCwgd2UgYWxzbyBuZWVkIHRvIHVzZSBhIGN1c3RvbSB0aW1lb3V0LlxuICBjb25zdCBzb3VyY2U6IENhbmNlbFRva2VuU291cmNlID0gYXhpb3MuQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzb3VyY2UuY2FuY2VsKCk7XG4gICAgY29uc29sZS5sb2coXCJSZXF1ZXN0IGNhbmNlbGVkIGR1ZSB0byB0aW1lb3V0XCIpO1xuICB9LCBUSU1FT1VUKTtcblxuICB0cnkge1xuICAgIGNvbnN0IGludGVyQWdlbnQgPSBuZXcgSHR0cHNQcm94eUFnZW50KGludGVyQWRkcmVzcyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KHVybCwgZGF0YSwge1xuICAgICAgaHR0cEFnZW50OiBpbnRlckFnZW50LFxuICAgICAgaHR0cHNBZ2VudDogaW50ZXJBZ2VudCxcbiAgICAgIHRpbWVvdXQ6IFRJTUVPVVQsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLFxuICAgICAgfSxcbiAgICAgIG1heENvbnRlbnRMZW5ndGg6IDEwMCAqIDEwMjQsIC8vIDEwMCBLQlxuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlbixcbiAgICB9KTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyb3IpKSB7XG4gICAgICBpZiAoYXhpb3MuaXNDYW5jZWwoZXJyb3IpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVxdWVzdCBjYW5jZWxlZDpcIiwgZXJyb3IubWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhgRmFpbGVkIHRvIHBvc3QgZGF0YTogJHsoZXJyb3IgYXMgYW55KS5tZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcG9zdCBkYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZFwiKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0U3RyaW5nQmV0d2VlbkZpcnN0QW5kTGFzdFBhcmVudGhlc2VzKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgZmlyc3RQYXJlbnRoZXNlc0luZGV4ID0gc3RyLmluZGV4T2YoXCIoXCIpO1xuICBjb25zdCBsYXN0UGFyZW50aGVzZXNJbmRleCA9IHN0ci5sYXN0SW5kZXhPZihcIilcIik7XG4gIHJldHVybiBzdHIuc2xpY2UoZmlyc3RQYXJlbnRoZXNlc0luZGV4ICsgMSwgbGFzdFBhcmVudGhlc2VzSW5kZXgpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSBcIkdFVFwiKSB7XG4gICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogXCJNZXRob2Qgbm90IGFsbG93ZWRcIiB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBxdWVyeSA9IHJlcS5xdWVyeS5xdWVyeTtcbiAgaWYgKHR5cGVvZiBxdWVyeSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiUXVlcnkgcGFyYW1ldGVyIG11c3QgYmUgYSBzdHJpbmdcIiB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFxdWVyeS50cmltKCkpIHtcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIlF1ZXJ5IHBhcmFtZXRlciBpcyByZXF1aXJlZFwiIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpbnRlclF1ZXJ5ID0gcmVxLnF1ZXJ5LmludGVyO1xuICBsZXQgaW50ZXI6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGlmIChpbnRlclF1ZXJ5ICE9PSBudWxsICYmIGludGVyUXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgaW50ZXJRdWVyeSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJJbnRlciBwYXJhbWV0ZXIgbXVzdCBiZSBhIHN0cmluZ1wiIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnRlciA9IGludGVyUXVlcnk7XG4gIH1cblxuICBpZiAoIWludGVyKSB7XG4gICAgaW50ZXIgPSBhd2FpdCBnZXRNb3N0QWNjdXJhdGVJbnRlcigpO1xuICAgIGlmICghaW50ZXIpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiTm8gaW50ZXJzIGF2YWlsYWJsZVwiIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLmxvZyhgVXNpbmcgaW50ZXI6ICR7aW50ZXJ9YCk7XG5cbiAgbGV0IGRhdGEgPSB7XG4gICAgcTogcXVlcnksXG4gICAgcGFnZTogXCIwXCIsXG4gIH07XG5cbiAgY29uc3QgTUFYX1JFVFJJRVMgPSAzO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IE1BWF9SRVRSSUVTOyBpKyspIHtcbiAgICBjb25zb2xlLmxvZyhgVHJ5IG51bWJlciAke2kgKyAxfWApO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQ6IHN0cmluZyA9IGF3YWl0IHBvc3REYXRhKFVSTCwgaW50ZXIsIGRhdGEpO1xuICAgICAgY29uc3QganNvblRleHQgPSBleHRyYWN0U3RyaW5nQmV0d2VlbkZpcnN0QW5kTGFzdFBhcmVudGhlc2VzKHJlc3VsdCk7XG4gICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShqc29uVGV4dCk7XG4gICAgICBpZiAoanNvbltcInJlc3BvbnNlXCJdICE9PSBudWxsKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGpzb25bXCJyZXNwb25zZVwiXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBSZXNwb25zZSBudWxsIHdpdGggcHJveHkgJHtpbnRlcn0uIFJldHJ5aW5nYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZVByZWZpeGUgPSBgRmFpbGVkIHRvIGZldGNoIGRhdGEgd2l0aCBpbnRlciAke2ludGVyfTogYDtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2VCb2R5ID0gXCJcIjtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZUJvZHkgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlQm9keSA9IFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgfVxuICAgICAgaW5jcmVtZW50RmFpbHVyZUNvdW50KGludGVyKTtcbiAgICAgIHJlc1xuICAgICAgICAuc3RhdHVzKDUwMClcbiAgICAgICAgLmpzb24oeyBlcnJvcjogYCR7ZXJyb3JNZXNzYWdlUHJlZml4ZX0ke2Vycm9yTWVzc2FnZUJvZHl9YCB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29yc01pZGRsZXdhcmUoaGFuZGxlcik7XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJIdHRwc1Byb3h5QWdlbnQiLCJnZXRNb3N0QWNjdXJhdGVJbnRlciIsImluY3JlbWVudEZhaWx1cmVDb3VudCIsImNvcnNNaWRkbGV3YXJlIiwiQkFTRV9VUkwiLCJFTkRQT0lOVCIsIlVSTCIsIlRJTUVPVVQiLCJwb3N0RGF0YSIsInVybCIsImludGVyQWRkcmVzcyIsImRhdGEiLCJzb3VyY2UiLCJDYW5jZWxUb2tlbiIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2FuY2VsIiwiY29uc29sZSIsImxvZyIsImludGVyQWdlbnQiLCJyZXNwb25zZSIsInBvc3QiLCJodHRwQWdlbnQiLCJodHRwc0FnZW50IiwiaGVhZGVycyIsIm1heENvbnRlbnRMZW5ndGgiLCJjYW5jZWxUb2tlbiIsInRva2VuIiwiY2xlYXJUaW1lb3V0IiwiZXJyb3IiLCJpc0F4aW9zRXJyb3IiLCJpc0NhbmNlbCIsIm1lc3NhZ2UiLCJFcnJvciIsImV4dHJhY3RTdHJpbmdCZXR3ZWVuRmlyc3RBbmRMYXN0UGFyZW50aGVzZXMiLCJzdHIiLCJmaXJzdFBhcmVudGhlc2VzSW5kZXgiLCJpbmRleE9mIiwibGFzdFBhcmVudGhlc2VzSW5kZXgiLCJsYXN0SW5kZXhPZiIsInNsaWNlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJxdWVyeSIsInRyaW0iLCJpbnRlclF1ZXJ5IiwiaW50ZXIiLCJ1bmRlZmluZWQiLCJxIiwicGFnZSIsIk1BWF9SRVRSSUVTIiwiaSIsInJlc3VsdCIsImpzb25UZXh0IiwiSlNPTiIsInBhcnNlIiwiZXJyb3JNZXNzYWdlUHJlZml4ZSIsImVycm9yTWVzc2FnZUJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/titles.ts\n");

/***/ }),

/***/ "(api)/./src/dbService.ts":
/*!**************************!*\
  !*** ./src/dbService.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getInters\": () => (/* binding */ getInters),\n/* harmony export */   \"getMostAccurateInter\": () => (/* binding */ getMostAccurateInter),\n/* harmony export */   \"incrementFailureCount\": () => (/* binding */ incrementFailureCount),\n/* harmony export */   \"resetAndInsertInters\": () => (/* binding */ resetAndInsertInters)\n/* harmony export */ });\n/* harmony import */ var _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vercel/postgres */ \"@vercel/postgres\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__]);\n_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst INTERS_RELATION_NAME = \"inters\";\nconst INTERS_COLUMNS_NAME = {\n    ADDRESS: \"address\",\n    TIME: \"time\",\n    FAILURE_COUNT: \"failure_count\"\n};\nasync function emptyIntersTable() {\n    const query = `DELETE FROM ${INTERS_RELATION_NAME}`;\n    return _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql.query(query);\n}\nasync function insertInters(values) {\n    const values_with_default_failure_count = values.map((value)=>[\n            value[0],\n            value[1],\n            0, \n        ]);\n    for (const value of values_with_default_failure_count){\n        const query = `\n      INSERT INTO ${INTERS_RELATION_NAME} (${INTERS_COLUMNS_NAME.ADDRESS}, ${INTERS_COLUMNS_NAME.TIME}, ${INTERS_COLUMNS_NAME.FAILURE_COUNT})\n      VALUES ('${value[0]}', ${value[1]}, ${value[2]})\n    `;\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql.query(query);\n    }\n}\nasync function getInters() {\n    const query = `SELECT * FROM ${INTERS_RELATION_NAME}`;\n    return _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql.query(query);\n}\nasync function getMostAccurateInter() {\n    const query = `\n    SELECT * \n    FROM ${INTERS_RELATION_NAME} \n    ORDER BY ${INTERS_COLUMNS_NAME.FAILURE_COUNT} ASC, ${INTERS_COLUMNS_NAME.TIME} ASC LIMIT 1`;\n    const result = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql.query(query);\n    if (!result.rows.length) {\n        return null;\n    }\n    return result.rows[0].address;\n}\nasync function incrementFailureCount(address) {\n    const query = `\n    UPDATE ${INTERS_RELATION_NAME}\n    SET ${INTERS_COLUMNS_NAME.FAILURE_COUNT} = ${INTERS_COLUMNS_NAME.FAILURE_COUNT} + 1\n    WHERE ${INTERS_COLUMNS_NAME.ADDRESS} = '${address}'\n  `;\n    return _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql.query(query);\n}\nasync function resetAndInsertInters(values) {\n    await emptyIntersTable();\n    await insertInters(values);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcWwgfSBmcm9tIFwiQHZlcmNlbC9wb3N0Z3Jlc1wiO1xuXG5jb25zdCBJTlRFUlNfUkVMQVRJT05fTkFNRSA9IFwiaW50ZXJzXCI7XG5jb25zdCBJTlRFUlNfQ09MVU1OU19OQU1FID0ge1xuICBBRERSRVNTOiBcImFkZHJlc3NcIixcbiAgVElNRTogXCJ0aW1lXCIsXG4gIEZBSUxVUkVfQ09VTlQ6IFwiZmFpbHVyZV9jb3VudFwiLFxufTtcblxuYXN5bmMgZnVuY3Rpb24gZW1wdHlJbnRlcnNUYWJsZSgpIHtcbiAgY29uc3QgcXVlcnkgPSBgREVMRVRFIEZST00gJHtJTlRFUlNfUkVMQVRJT05fTkFNRX1gO1xuICByZXR1cm4gc3FsLnF1ZXJ5KHF1ZXJ5KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0SW50ZXJzKHZhbHVlczogW3N0cmluZywgbnVtYmVyXVtdKSB7XG4gIGNvbnN0IHZhbHVlc193aXRoX2RlZmF1bHRfZmFpbHVyZV9jb3VudCA9IHZhbHVlcy5tYXAoKHZhbHVlKSA9PiBbXG4gICAgdmFsdWVbMF0sXG4gICAgdmFsdWVbMV0sXG4gICAgMCxcbiAgXSk7XG4gIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzX3dpdGhfZGVmYXVsdF9mYWlsdXJlX2NvdW50KSB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBJTlNFUlQgSU5UTyAke0lOVEVSU19SRUxBVElPTl9OQU1FfSAoJHtJTlRFUlNfQ09MVU1OU19OQU1FLkFERFJFU1N9LCAke0lOVEVSU19DT0xVTU5TX05BTUUuVElNRX0sICR7SU5URVJTX0NPTFVNTlNfTkFNRS5GQUlMVVJFX0NPVU5UfSlcbiAgICAgIFZBTFVFUyAoJyR7dmFsdWVbMF19JywgJHt2YWx1ZVsxXX0sICR7dmFsdWVbMl19KVxuICAgIGA7XG4gICAgYXdhaXQgc3FsLnF1ZXJ5KHF1ZXJ5KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW50ZXJzKCkge1xuICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgKiBGUk9NICR7SU5URVJTX1JFTEFUSU9OX05BTUV9YDtcbiAgcmV0dXJuIHNxbC5xdWVyeShxdWVyeSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNb3N0QWNjdXJhdGVJbnRlcigpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgY29uc3QgcXVlcnkgPSBgXG4gICAgU0VMRUNUICogXG4gICAgRlJPTSAke0lOVEVSU19SRUxBVElPTl9OQU1FfSBcbiAgICBPUkRFUiBCWSAke0lOVEVSU19DT0xVTU5TX05BTUUuRkFJTFVSRV9DT1VOVH0gQVNDLCAke0lOVEVSU19DT0xVTU5TX05BTUUuVElNRX0gQVNDIExJTUlUIDFgO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzcWwucXVlcnkocXVlcnkpO1xuICBpZiAoIXJlc3VsdC5yb3dzLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiByZXN1bHQucm93c1swXS5hZGRyZXNzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5jcmVtZW50RmFpbHVyZUNvdW50KGFkZHJlc3M6IHN0cmluZykge1xuICBjb25zdCBxdWVyeSA9IGBcbiAgICBVUERBVEUgJHtJTlRFUlNfUkVMQVRJT05fTkFNRX1cbiAgICBTRVQgJHtJTlRFUlNfQ09MVU1OU19OQU1FLkZBSUxVUkVfQ09VTlR9ID0gJHtJTlRFUlNfQ09MVU1OU19OQU1FLkZBSUxVUkVfQ09VTlR9ICsgMVxuICAgIFdIRVJFICR7SU5URVJTX0NPTFVNTlNfTkFNRS5BRERSRVNTfSA9ICcke2FkZHJlc3N9J1xuICBgO1xuICByZXR1cm4gc3FsLnF1ZXJ5KHF1ZXJ5KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2V0QW5kSW5zZXJ0SW50ZXJzKHZhbHVlczogW3N0cmluZywgbnVtYmVyXVtdKSB7XG4gIGF3YWl0IGVtcHR5SW50ZXJzVGFibGUoKTtcbiAgYXdhaXQgaW5zZXJ0SW50ZXJzKHZhbHVlcyk7XG59XG4iXSwibmFtZXMiOlsic3FsIiwiSU5URVJTX1JFTEFUSU9OX05BTUUiLCJJTlRFUlNfQ09MVU1OU19OQU1FIiwiQUREUkVTUyIsIlRJTUUiLCJGQUlMVVJFX0NPVU5UIiwiZW1wdHlJbnRlcnNUYWJsZSIsInF1ZXJ5IiwiaW5zZXJ0SW50ZXJzIiwidmFsdWVzIiwidmFsdWVzX3dpdGhfZGVmYXVsdF9mYWlsdXJlX2NvdW50IiwibWFwIiwidmFsdWUiLCJnZXRJbnRlcnMiLCJnZXRNb3N0QWNjdXJhdGVJbnRlciIsInJlc3VsdCIsInJvd3MiLCJsZW5ndGgiLCJhZGRyZXNzIiwiaW5jcmVtZW50RmFpbHVyZUNvdW50IiwicmVzZXRBbmRJbnNlcnRJbnRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/dbService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/titles.ts"));
module.exports = __webpack_exports__;

})();